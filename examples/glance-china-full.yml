# Glance 中国版完整配置示例
server:
  port: 8080
  region: cn
  api-sources:
    bilibili:
      base-url: https://api.bilibili.com
      rate-limit: 100
      timeout: 10s
      headers:
        User-Agent: "Glance-China/1.0"
        Referer: "https://www.bilibili.com"
    
    zhihu:
      base-url: https://www.zhihu.com/api
      rate-limit: 50
      timeout: 10s
      headers:
        User-Agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
    
    gitee:
      base-url: https://gitee.com/api/v5
      rate-limit: 60
      timeout: 10s
      token: ${GITEE_TOKEN}
      headers:
        User-Agent: "Glance-China/1.0"
    
    weibo:
      base-url: https://m.weibo.cn/api
      rate-limit: 30
      timeout: 10s
      headers:
        User-Agent: "Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)"
        app-key: ${WEIBO_APP_KEY}
      token: ${WEIBO_APP_SECRET}
    
    douyu:
      base-url: https://www.douyu.com
      rate-limit: 40
      timeout: 10s
      headers:
        User-Agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"

  cache:
    type: memory
    ttl: 5m
    max-size: 100MB
  
  rate-limit:
    default-limit: 60
    window: 1m
    services:
      bilibili: 100
      zhihu: 50
      gitee: 60
      weibo: 30
      douyu: 40

theme:
  background-color: 240 8 9
  primary-color: 43 50 70
  positive-color: 120 60 50
  negative-color: 0 70 70

pages:
  - name: 首页
    columns:
      - size: small
        widgets:
          - type: calendar
            first-day-of-week: monday
          
          - type: weather
            location: 北京, 中国
            units: metric
            hour-format: 24h
          
          - type: weibo-hot-search
            title: 微博热搜
            limit: 15
            show-icons: true
            collapse-after: 8

      - size: full
        widgets:
          - type: bilibili-videos
            title: Bilibili 视频
            up-masters:
              - uid: "123456"
                name: "技术UP主"
              - uid: "789012"
                name: "编程教学"
            limit: 12
            style: horizontal-cards
            collapse-after: 6
          
          - type: zhihu-trending
            title: 知乎热榜
            categories:
              - technology
              - science
            limit: 15
            show-images: true
            collapse-after: 8

      - size: small
        widgets:
          - type: gitee-repos
            title: Gitee 仓库
            repositories:
              - openharmony/kernel_liteos_a
              - PaddlePaddle/Paddle
              - apache/dubbo
            token: ${GITEE_TOKEN}
            show-issues: true
            show-prs: true
            limit: 8

  - name: 直播娱乐
    columns:
      - size: full
        widgets:
          - type: douyu-live
            title: 斗鱼直播
            rooms:
              - room-id: "123456"
                name: "游戏主播"
              - room-id: "789012"
                name: "技术分享"
            show-offline: false
            limit: 10
            collapse-after: 5
          
          - type: bilibili-videos
            title: 娱乐视频
            up-masters:
              - uid: "111111"
                name: "游戏UP主"
              - uid: "222222"
                name: "音乐UP主"
            style: grid-cards
            limit: 16

  - name: 开发工具
    columns:
      - size: full
        widgets:
          - type: rss
            title: 技术资讯
            feeds:
              - url: https://www.infoq.cn/feed
                title: InfoQ中文
              - url: https://juejin.cn/rss
                title: 掘金
              - url: https://segmentfault.com/feeds
                title: SegmentFault
            limit: 20
            collapse-after: 10
          
          - type: gitee-repos
            title: 开源项目
            repositories:
              - vuejs/vue
              - facebook/react
              - microsoft/vscode
            show-issues: true
            show-prs: true
